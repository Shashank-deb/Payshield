# =============================================================================
# PayShield Environment Configuration Template - SECURE VERSION
# =============================================================================
# SECURITY: Copy this to .env and fill in secure values
# NEVER commit .env files to version control!
# =============================================================================

# ------------------------------
# Database Configuration
# ------------------------------
POSTGRES_USER=payshield
# SECURITY: Generate with: openssl rand -base64 16 | tr -d "=+/" | cut -c1-16
POSTGRES_PASSWORD=CHANGE_ME_SECURE_PASSWORD_16_CHARS

POSTGRES_DB=payshield

# Application Database Connection
DB_URL=jdbc:postgresql://db:5432/payshield
DB_USERNAME=payshield
DB_PASSWORD=${POSTGRES_PASSWORD}

# ------------------------------
# JWT Security - CRITICAL
# ------------------------------
# SECURITY: Generate with: openssl rand -base64 32
# MINIMUM 32 characters required for HS256
SECURITY_JWT_SECRET=CHANGE_ME_SECURE_JWT_SECRET_32_PLUS_CHARACTERS
SECURITY_JWT_TTL_SECONDS=3600

# ------------------------------
# Bootstrap Admin - CHANGE THESE
# ------------------------------
BOOTSTRAP_ADMIN_EMAIL=admin@yourcompany.com
# SECURITY: Generate with: openssl rand -base64 12 | tr -d "=+/" | cut -c1-12
BOOTSTRAP_ADMIN_PASSWORD=CHANGE_ME_SECURE_ADMIN_PASSWORD
BOOTSTRAP_DEFAULT_TENANT_ID=00000000-0000-0000-0000-000000000001

# ------------------------------
# Application Settings
# ------------------------------
APP_PORT=2406
ACTUATOR_PORT=9090
STORAGE_BASE_PATH=/app/storage

# ------------------------------
# Outbox Configuration
# ------------------------------
OUTBOX_ENABLED=true
OUTBOX_POLL_INTERVAL_MS=5000
OUTBOX_BATCH_SIZE=50

# ------------------------------
# File Upload Security
# ------------------------------
MAX_FILE_SIZE=10MB
MAX_REQUEST_SIZE=10MB
VALIDATE_FILE_CONTENT=true
STRICT_MIME_CHECK=true

# ------------------------------
# ClamAV Antivirus
# ------------------------------
CLAMAV_ENABLED=true
CLAMAV_HOST=clamav
CLAMAV_PORT=3310
CLAMAV_TIMEOUT=30000
CLAMAV_CONNECTION_TIMEOUT=5000
CLAMAV_FAIL_SECURE=true

# ------------------------------
# Field-level Encryption (AES-GCM)
# ------------------------------
# SECURITY: Generate with: openssl rand -base64 32
PSP_AES_KEY=CHANGE_ME_BASE64_32_BYTE_ENCRYPTION_KEY

# ------------------------------
# Alerts & Notifications
# ------------------------------
SLACK_WEBHOOK_URL=https://hooks.slack.com/your-webhook-url
WEBHOOK_TARGET_URL=https://your-external-system.com/webhook
# SECURITY: Generate with: openssl rand -hex 32
WEBHOOK_SIGNING_SECRET=CHANGE_ME_WEBHOOK_SIGNING_SECRET

# ------------------------------
# Email Configuration (optional)
# ------------------------------
MAIL_HOST=smtp.yourcompany.com
MAIL_PORT=587
MAIL_USER=noreply@yourcompany.com
MAIL_PASS=CHANGE_ME_EMAIL_PASSWORD

# ------------------------------
# OpenTelemetry (optional)
# ------------------------------
OTEL_EXPORTER_OTLP_ENDPOINT=http://otel-collector:4317

# ------------------------------
# Audit & Compliance
# ------------------------------
# SECURITY: Generate with: openssl rand -hex 32
AUDIT_HMAC_SECRET=CHANGE_ME_AUDIT_HMAC_SECRET_64_CHARS
AUDIT_RETENTION_DAYS=2555  # 7 years for compliance

# ------------------------------
# Production Security Headers
# ------------------------------
SECURITY_CONTENT_TYPE_OPTIONS=nosniff
SECURITY_FRAME_OPTIONS=DENY
SECURITY_XSS_PROTECTION=1; mode=block
SECURITY_HSTS_MAX_AGE=31536000
SECURITY_HSTS_INCLUDE_SUBDOMAINS=true

# ------------------------------
# Rate Limiting
# ------------------------------
RATE_LIMIT_REQUESTS_PER_MINUTE=100
RATE_LIMIT_BURST=20

# ------------------------------
# Monitoring & Logging
# ------------------------------
LOG_LEVEL=INFO
SECURITY_LOG_LEVEL=WARN
WEB_LOG_LEVEL=WARN
LOG_FILE=/app/logs/payshield.log

# ------------------------------
# Development/Testing Only
# ------------------------------
# NEVER set these to true in production!
API_DOCS_ENABLED=false
SWAGGER_UI_ENABLED=false
DEBUG_ENDPOINTS_ENABLED=false
